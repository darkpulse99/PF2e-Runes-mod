new entry "Interrupt_ShieldBlock"
type "InterruptData"
using "Interrupt_DeflectMissiles"
data "DisplayName" "h79cd45e7g14ffge15cg5483g30288fa7d68b;1"
data "Description" "hd1e0216cgae77g96f9g5219g851d592b6598;2"
data "Icon" "PassiveFeature_ShieldMaster_Block"
data "InterruptContext" "OnPreDamage"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and IsAttack() and not IsSpell() and (HasStatus('RAISE_SHIELD',context.Observer) or HasStatus('RAISE_SHIELD_SPIRIT',context.Observer) or HasStatus('ParagonShield',context.Observer));"
data "Properties" "IF(not HasAnyTags({'STURDY_SHIELD_MINOR', 'STURDY_SHIELD_LESSER', 'STURDY_SHIELD_MODERATE'}, GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer)) and not HasStatus('REINFORCING', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer))):AdjustRoll(-5);IF(Tagged('STURDY_SHIELD_MINOR', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer)) or HasStatus('REINFORCING', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer))):AdjustRoll(-8);IF(Tagged('STURDY_SHIELD_LESSER', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer))):AdjustRoll(-10);IF(Tagged('STURDY_SHIELD_MODERATE', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer))):AdjustRoll(-13);IF(HasPassive('BlessedShield',context.Observer) and not (HasStatus('REINFORCING', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer)) or HasAnyTags({'STURDY_SHIELD_MINOR', 'STURDY_SHIELD_LESSER', 'STURDY_SHIELD_MODERATE'}, GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer)))):AdjustRoll(-3);IF(HasPassive('BlessedShield',context.Observer) and (HasStatus('REINFORCING', GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer)) or HasAnyTags({'STURDY_SHIELD_MINOR', 'STURDY_SHIELD_LESSER', 'STURDY_SHIELD_MODERATE'}, GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Observer)))):AdjustRoll(-1);IF(HasStatus('EmblazonShieldStatus',context.Observer)):AdjustRoll(-1);IF(HasPassive('CorruptedShield',context.Observer)):DealDamage(OBSERVER_SOURCE,LevelMapValue(SongbirdsDamage),Necrotic,Magical);"

new entry "QuickShieldBlockInterrupt"
type "InterruptData"
using "Interrupt_ShieldBlock"
data "DisplayName" "he0d59342g5c95g442ag916aga308ab10808d;1"
data "Cost" ""
data "Cooldown" "OncePerTurn"

new entry "RuneImpactful_Critical"
type "InterruptData"
data "DisplayName" "hc515414ag4383gf9ddg9f89g0455872d1181;1"
data "Description" "h0c135ea2g6216g6598g9438gcb9e5f32af95;1"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Far"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Source, context.Observer) and (HasStatus('RUNE_IMPACTFUL',GetAttackWeapon()) or (IsMeleeUnarmedAttack() and HasStatus('RUNE_IMPACTFUL',GetItemInEquipmentSlot(EquipmentSlot.Gloves))) or HasStatus('RUNE_IMPACTFUL',context.HitDescription.ThrownObject)) and IsCritical();"
data "Roll" "not SavingThrow(Ability.Constitution, 17)"
data "Success" "ApplyStatus(OBSERVER_TARGET,RUNE_IMPACTFUL_PUSH,100,1);"
data "InterruptDefaultValue" "Ask;Enabled"

new entry "RuneHoly_Critical"
type "InterruptData"
data "DisplayName" "hb963c7ebgaa33g6d54gcdd4g9f9613a0fcee;1"
data "Description" "h6611ca68g4f4bg9e87gdf91g83e83dcb4d12;2"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Far"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Source, context.Observer) and (HasStatus('RUNE_HOLY',GetAttackWeapon()) or (IsMeleeUnarmedAttack() and HasStatus('RUNE_HOLY',GetItemInEquipmentSlot(EquipmentSlot.Gloves))) or HasStatus('RUNE_HOLY',context.HitDescription.ThrownObject)) and (Tagged('FIEND',context.Target) or Tagged('UNDEAD',context.Target)) and IsCritical();"
data "Properties" "ApplyStatus(SWAP,RUNE_HOLY_HEALING,100,0);ApplyStatus(OBSERVER_OBSERVER,RUNE_HOLY_HEALING_BLOCK,100,-1);"
data "Cost" "ReactionActionPoint:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('RUNE_HOLY_HEALING_BLOCK');"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"

